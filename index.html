<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Web Explorer</title>
  <style>
[v-cloak] {
  display: none;
}
  </style>
</head>

<body>
  <div id="editorApp">
    <catalog v-if="showCatalog" @close="handleCatalogSelection"></catalog>
    <nav v-cloak>
      <div id="logo">
        <span>Web</span> Explorer
      </div>
      <div>
        <button class="btn-icon open-catalog" @click="showCatalog=true"></button>
      </div>
      <div class="flex"></div>
      <button :class="{on: panels.html.visible}" @click="panels.html.visible=!panels.html.visible">HTML</button>
      <button :class="{on: panels.css.visible}" @click="panels.css.visible=!panels.css.visible">CSS</button>
      <button :class="{on: panels.javascript.visible}" @click="panels.javascript.visible=!panels.javascript.visible">JavaScript</button>
      <button :class="{on: panels.output.visible}" @click="panels.output.visible=!panels.output.visible">Output</button>
      <div class="flex"></div>
      <div>
        <button class="btn-icon font-minus" @click="options.fontSize--"></button>
        <button class="btn-icon font-plus" @click="options.fontSize++"></button>
        <form method="POST" action="https://fritscher.ch/html/" target="_blank" class="externalPreview">
          <textarea name="html" v-model="preview"></textarea>
          <input type="submit" value="" class="btn-icon">
        </form>
      </div>
    </nav>

    <div class="edit" v-cloak>
      <transition name="fade">
      <panel v-if="!(panels.html || panels.css || panels.javascript || panels.output)">
        <h1 v-cloak>No panel selected!</h1>
      </panel>
      </transition>
      <transition name="fade">
      <panel v-if="panels.html.visible" v-model="panels.html">
        <editor language="html" v-model="values.html" :options="options"></editor>
      </panel>
      </transition>
      <transition name="fade">
      <panel v-if="panels.css.visible" v-model="panels.css">
        <editor language="css" v-model="values.css" :options="options"></editor>
      </panel>
      </transition>
      <transition name="fade">
      <panel v-if="panels.javascript.visible" v-model="panels.javascript">
        <editor language="javascript" v-model="values.javascript" :options="options"></editor>
      </panel>
      </transition>
      <transition name="fade">
      <panel v-if="panels.output.visible" v-model="panels.output">
        <iframe ref="preview"></iframe>
        <div id="console" v-if="outputConsole.length > 0" :style="{'font-size': options.fontSize + 'px'}">
          <button @click="outputConsole = []" class="btn-icon clear"></button>
          <pre v-for="l in outputConsole" v-cloak>{{l}}</pre>
        </div>
      </panel>
      </transition>
    </div>
  </div>
  <script src="vs/loader.js"></script>
</body>

</html>